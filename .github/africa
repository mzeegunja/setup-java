<?php
require 'vendor/autoload.php';
use AfricasTalking\SDK\AfricasTalking;

// Set your app credentials
$username = "MyAppUsername";
$apikey = "MyAppAPIKey";

// Initialize the SDK
$AT = new AfricasTalking($username, $apiKey);

// Get the voice service
$voice = $AT->voice();

// Set your Africa's Talking phone number that will be using the file
$phoneNumber = "+254711082XXX";

// Set url of file to upload
$fileUrl = "http://onlineMediaUrl.com/file.wav";

try {
    // Upload the file
    $result = $voice->uploadMediaFile([
        "phoneNumber" => $phoneNumber,
        "url"         => $fileUrl
    ]);

    print_r($result);
} catch (Exception $e) {
    echo "Error: ".$e->getMessage();
}
